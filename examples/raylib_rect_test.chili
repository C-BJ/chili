use raylib.?;
use c.?;

pub let main = fn() {
	let width: i32 = 1920
	let height: i32 = 1080

	let rect_size = 40
	let rect_speed = 1000

	let mut x = width / 2 - rect_size / 2

	let height_center = height / 2 - rect_size / 2
	let mut y = height_center

	InitWindow(width, height, "chili language example - rect test\0".data)
	SetTargetFPS(120)

	while !WindowShouldClose() {
		let time = GetTime()
		let frame_time = GetFrameTime()

		x += (rect_speed * frame_time) as i32

		if x > width + rect_size {
			x = -rect_size
		}

		y = (height_center as f64 + sin(time * 10) * 100) as _

		BeginDrawing()
		ClearBackground(black)
		DrawRectangle(x, y, rect_size, rect_size, green)
		DrawFPS(10, 10)
		EndDrawing()
	}

	CloseWindow();
}

@run(main())