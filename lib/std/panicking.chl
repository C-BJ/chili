let { printf, exit } = import("std/c");
let { caller_location } = import("std/intrinsics");

@track_caller
pub fn panic(
    fmt: *str = "unknown reason",
) -> never = {
    let location = caller_location();
    // TODO: use our own println function.

    printf(
        "panic: \"%s\" at %s:%u:%u\n".data, 
        fmt.data,
        location.file.data,
        location.line,
        location.column
    );

    exit(1)
};